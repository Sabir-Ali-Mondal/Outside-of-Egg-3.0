<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Outside of Egg 3.0</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600&family=Poppins:wght@400;600&family=Bree+Serif&family=Comic+Sans+MS&display=swap" rel="stylesheet">
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.12.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <button id="theme-switcher" title="Toggle Theme">üåô</button>

    <div id="app">
        
        <div class="text-center intro-container">
            <video class="background-video" autoplay muted loop>
                <source src="https://res.cloudinary.com/dmttn34te/video/upload/v1735058481/Standard_Mode_An_egg_rests_on_a_clean_white_ba_htcxt6.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <h1 class="cute-header">
                <i class="cute-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="1em" height="1em" fill="currentColor">
                        <g>
                            <g>
                                <path d="M25.083,17.79l-0.254-0.965l-0.59,0.305c-0.125-1.203-0.437-3.527-1.088-5.032l2.374,1.135l-0.441-1.672C23.614,5.993,20.145,0,16,0c-4.144,0-7.614,5.993-9.084,11.561L6.494,13.16l2.346-1.024c-0.966,1.974-0.902,4.009-0.747,5.16l-0.941-0.399L6.916,17.79c-0.441,1.671-0.674,3.211-0.674,4.452C6.242,27.623,10.619,32,16,32s9.758-4.377,9.758-9.758C25.758,21.001,25.524,19.461,25.083,17.79z M21.037,13.456c0,0.862-0.697,1.56-1.561,1.56c-0.86,0-1.561-0.698-1.561-1.56c0-0.862,0.699-1.561,1.561-1.561C20.34,11.895,21.037,12.594,21.037,13.456z M16,18.398l-0.103-0.047c-0.408-0.354-1.449-2.35-1.449-2.664c0-0.345,1.207-0.672,1.517-0.672s1.585,0.379,1.585,0.672c0,0.268-1.05,2.316-1.455,2.667L16,18.398z M12.703,11.895c0.861,0,1.56,0.699,1.56,1.561c0,0.862-0.699,1.56-1.56,1.56c-0.862,0-1.561-0.698-1.561-1.56C11.142,12.594,11.841,11.895,12.703,11.895z M16,1.601c2.766,0,5.51,4.203,7.021,8.662L21.616,9.59l-2.508,1.294l-3.129-1.272l-2.742,1.266l-2.592-1.276L8.952,10.34C10.457,5.854,13.219,1.601,16,1.601z M16,30.398c-4.498,0-8.157-3.658-8.157-8.156c0-0.871,0.141-1.965,0.402-3.143l2.496,1.06l2.432-1.275L16,20.152l2.874-1.283l2.986,1.292l1.911-0.987c0.25,1.151,0.387,2.217,0.387,3.069C24.157,26.74,20.497,30.398,16,30.398z" />
                                <path d="M19.608,14.333c0.399,0,0.723-0.324,0.723-0.724c0-0.14-0.05-0.264-0.118-0.375c-0.072,0.094-0.179,0.158-0.305,0.158c-0.213,0-0.387-0.173-0.387-0.387c0-0.038,0.012-0.073,0.021-0.108c-0.367,0.035-0.658,0.334-0.658,0.711C18.885,14.009,19.208,14.333,19.608,14.333z" />
                                <path d="M12.834,14.333c0.399,0,0.723-0.324,0.723-0.724c0-0.14-0.05-0.264-0.12-0.375c-0.07,0.094-0.177,0.158-0.304,0.158c-0.213,0-0.386-0.173-0.386-0.387c0-0.038,0.011-0.073,0.021-0.108c-0.367,0.035-0.659,0.334-0.659,0.711C12.11,14.009,12.434,14.333,12.834,14.333z" />
                            </g>
                        </g>
                    </svg>
                </i>
                Outside of Egg
            </h1>
            <div class="typing-container">
                <span id="typing-text"></span>
            </div>
        </div>

        <main>
            <div class="glass-box">
                <div class="input-grid">
                    <div class="input-group">
                        <label for="topic-input">What should the story be about?</label>
                        <textarea id="topic-input" rows="2" placeholder="e.g., Why is the sky blue?">What are clouds made of?</textarea>
                    </div>

                    <div class="input-group">
                        <label for="age-select">Who is this story for?</label>
                        <select id="age-select">
                            <option value="under 5 years" selected>Under 5 years</option>
                            <option value="5-7 years">5-7 years</option>
                            <option value="8-10 years">8-10 years</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="lang-select">Choose a language:</label>
                        <select id="lang-select">
                            <option value="bn" selected>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</option>
                            <option value="en">English</option>
                            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
                            <option value="es">Espa√±ol</option>
                        </select>
                    </div>
                </div>

                <button id="generate-btn" class="action-button">
                    <span class="icon">‚ú®</span> Generate Story
                </button>
            </div>
        </main>
    </div>

    <div id="fullscreen-overlay" class="hidden">
        <div id="loader">
            <div class="spinner"></div>
            <p>Our storytellers are creating your animation...</p>
        </div>
        <iframe id="story-frame" title="Generated Story Animation" allow="autoplay"></iframe>
        <div id="controls" class="hidden">
             <button id="back-btn" class="control-button" title="Go Back">
                <span class="icon">‚¨ÖÔ∏è</span> Back
            </button>
            <button id="narrate-btn" class="control-button" title="Narrate Story">
                <span class="icon">üé§</span> Narrate
            </button>
            <button id="replay-btn" class="control-button" title="Replay Animation">
                <span class="icon">üîÑ</span> Replay
            </button>
            <button id="download-btn" class="control-button" title="Download Thumbnail">
                <span class="icon">üñºÔ∏è</span> Download
            </button>
        </div>
    </div>

    <script type="module" src="index.js"></script>
<script type="module" src="/index.tsx"></script>
</body>
</html>